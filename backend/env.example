# MainMeal Backend Environment Variables
# Copy this file to .env and fill in your values

# Database Configuration
# For local development with docker-compose:
# DATABASE_URL=postgresql+asyncpg://mainmeal:mainmeal_secret@localhost:5432/mainmeal

# For Google Cloud SQL with Cloud SQL Proxy:
# 1. Start the proxy first:
#    cloud-sql-proxy gen-lang-client-0515155454:us-central1:free-trial-first-project --port 5433
# 2. Then use this connection string:
# DATABASE_URL=postgresql+psycopg://user:password@127.0.0.1:5433/database-name
# Note: The connection string will be automatically converted from psycopg to asyncpg

# For direct Cloud SQL connection (without proxy):
# DATABASE_URL=postgresql+asyncpg://user:password@PUBLIC_IP:5432/dbname

# Database Schema (separates this project's tables from others in the same database)
DB_SCHEMA=mealadapt

# Docker Compose PostgreSQL settings (used by docker-compose.yml)
POSTGRES_USER=mainmeal
POSTGRES_PASSWORD=mainmeal_secret
POSTGRES_DB=mainmeal

# JWT Configuration (REQUIRED)
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=your-secure-jwt-secret-at-least-32-characters

# Google Gemini API Key (REQUIRED for AI features)
GEMINI_API_KEY=your-gemini-api-key

# CORS Configuration
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000

# Development Settings
SQL_ECHO=false

# LLM Rate Limiting Configuration
# Daily limits per user per endpoint (optional - defaults shown below)
# LLM_LIMIT_ANALYZE_RECIPE=50
# LLM_LIMIT_ANALYZE_INGREDIENT_IMAGE=30
# LLM_LIMIT_SUGGEST_RECIPES=20
# LLM_LIMIT_EXTRACT_INGREDIENTS=30
# LLM_LIMIT_ANALYZE_INGREDIENTS=40
